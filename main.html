<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="pure-min.css" type="text/css" rel="stylesheet" />
    <link href="main.css" type="text/css" rel="stylesheet" />
    <script src="jquery-1.10.2.min.js" type="text/javascript"></script>
    <script src="main.js" type="text/javascript"></script>
</head>
<body>
    <div class="menu">
        <ul>
            <li><a href="javascript:;">Pixel Painter</a></li>
            <li>
                <a href="javascript:;">文件</a>
                <ul>
                    <li><a href="javascript:;">新建</a></li>
                    <li class="line"><a href="javascript:;">打开</a></li>
                    <li><a href="javascript:;">保存</a></li>
                    <li class="line"><a href="javascript:;">导出</a></li>
                    <li><a href="javascript:;">关闭</a></li>
                </ul>
            </li>
            <li>
                <a href="javascript:;">编辑</a>
                <ul>
                    <li><a href="javascript:;">重做</a></li>
                    <li class="line"><a href="javascript:;">撤销</a></li>
                    <li><a href="javascript:;">剪切</a></li>
                    <li><a href="javascript:;">复制</a></li>
                    <li><a href="javascript:;">粘贴</a></li>
                    <li><a href="javascript:;">清除</a></li>
                </ul>
            </li>
            <li>
                <a href="javascript:;">帮助</a>
                <ul>
                    <li><a href="javascript:;">使用指南</a></li>
                    <li><a href="javascript:;">关于 Pixel Painter</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="wrap">
        <div class="toolbox">
            <div class="container">
                <a href="javascript:;" class="tools" data-val="pen" title="画笔"><img src="images/ic-pen.png"></a>
                <a href="javascript:;" class="tools" data-val="clear" title="清除"><img src="images/ic-eraser.png"></a>
                <a href="javascript:;" class="tools" data-val="move" title="移动"><img src="images/ic-move.png"></a>
                <a href="javascript:;" class="tools" data-val="select" title="选区"><img src="images/ic-area.png"></a>
                <a href="javascript:;" class="tools" data-val="magic" title="魔棒"><img src="images/ic-magic.png"></a>
                <a href="javascript:;" class="tools" data-val="pick" title="拾色"><img src="images/ic-pick.png"></a>
                <a href="javascript:;" class="tools" data-val="fill" title="填充"><img src="images/ic-fill.png"></a>
                <a href="javascript:;" class="tools" data-val="cut" title="裁剪"><img src="images/ic-cutpic.png"></a>
                <a href="javascript:;" class="tools" data-val="insert" title="插入图片"><img src="images/ic-album.png"></a>
            </div>
        </div>
        <div class="canvas">
            <div class="container">
                <div id="cube_group"></div>
                <label>w:32 h:32 scale:1</label>
                <a href="javascript:;" title="网格" style="left:20px;top:40px;"><img src="images/ic-net.png" /></a>
                <a href="javascript:;" title="放大" style="left:20px;top:112px;"><img src="images/ic-z-out.png" /></a>
                <a href="javascript:;" title="缩小" style="left:20px;top:158px;"><img src="images/ic-z-in.png" /></a>

                <a href="javascript:;" class="checked" title="拾色器" style="right:20px;top:20px;"><img src="images/ic-plate.png" /></a>
                <a href="javascript:;" title="历史记录" style="right:20px;top:64px;"><img src="images/ic-history.png" /></a>
                <a href="javascript:;" class="checked" title="图层" style="right:20px;top:108px;"><img src="images/ic-layer.png" /></a>
            </div>
        </div>
        <div class="setting">
            <div class="setting-title">色彩设置</div>
            <div class="container">
                <div class="pure-g">
                    <div class="pure-u-1-4">
                        <div class="color-panel"></div>
                    </div>
                    <div class="pure-u-3-4">
                        <table class="table color-slider" id="color_maker">
                            <tr>
                                <td style="width: 15%;">R</td>
                                <td style="width: 60%;">
                                    <div class="progress">
                                        <div class="progress-bar"></div>
                                    </div>
                                </td>
                                <td style="width: 25%;"><input type="text"></td>
                            </tr>
                            <tr>
                                <td style="width: 15%;">G</td>
                                <td style="width: 60%;">
                                    <div class="progress">
                                        <div class="progress-bar"></div>
                                    </div>
                                </td>
                                <td style="width: 25%;"><input type="text"></td>
                            </tr>
                            <tr>
                                <td style="width: 15%;">B</td>
                                <td style="width: 60%;">
                                    <div class="progress">
                                        <div class="progress-bar"></div>
                                    </div>
                                </td>
                                <td style="width: 25%;"><input type="text"></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div id="color_picker">
                    <div class="color-picker-fg"></div>
                </div>
            </div>
            <div class="setting-title">图层管理</div>
            <div class="container" id="layer">
                <!--
                <div class="pure-g layer-head">
                    <div class="pure-u-1-2">
                        <select>
                            <option value="1">正常</option>
                            <option value="2">叠加</option>
                        </select>
                    </div>
                    <div class="pure-u-1-2">
                        不透明: <input type="text" value="100"> %
                    </div>
                </div>-->
                <div id="layer_list">
                    <div class="pure-g layer-item checked">
                        <div class="pure-u-1-5">
                            <img src="images/ic-eyec.png" />
                        </div>
                        <div class="pure-u-4-5">绘图层</div>
                    </div>
                    <div class="pure-g layer-item">
                        <div class="pure-u-1-5">
                            <img src="images/ic-eye.png" />
                        </div>
                        <div class="pure-u-4-5">背景层</div>
                    </div>
                </div>
                <div class="layer-edit">
                    <a href="javascript:;" title="新建图层"><img src="images/ic-add.png" /></a>
                    <a href="javascript:;" title="复制图层"><img src="images/ic-copy.png" /></a>
                    <a href="javascript:;" title="删除图层"><img src="images/ic-delete.png" /></a>
                </div>
            </div>
        </div>
    </div>
    <div id="new_file_modal" class="modal">
        <div class="modal-content">
            <div class="modal-title">新建文件</div>
            <div class="modal-body">
                <form class="modal-form">
                    <div class="pure-g">
                        <div class="pure-u-1-4"><label>文件名称：</label></div>
                        <div class="pure-u-1-2"><input type="input" class="modal-input" /></div>
                        <div class="pure-u-1-4"></div>
                    </div>
                    <div class="pure-g">
                        <div class="pure-u-1-4"><label>画布尺寸：</label></div>
                        <div class="pure-u-1-2">
                            <input type="input" class="modal-input text-center" style="width:50px;" value="32" /> x
                            <input type="input" class="modal-input text-center" style="width:50px;" value="32" />
                        </div>
                        <div class="pure-u-1-4"></div>
                    </div>
                    <div class="pure-g">
                        <div class="pure-u-1-4"><label>色块类型：</label></div>
                        <div class="pure-u-1-2">
                            <label><input type="radio" value="1" checked /> 正方形</label>&nbsp;&nbsp;
                            <label><input type="radio" value="2" disabled /> 菱形</label>&nbsp;&nbsp;
                            <label><input type="radio" value="3" disabled /> 六边形</label>
                        </div>
                        <div class="pure-u-1-4"></div>
                    </div> 
                    <div class="pure-g">
                        <div class="pure-u-1-4"><label>背景颜色：</label></div>
                        <div class="pure-u-1-2">
                            <input type="input" class="modal-input text-center" style="width:68px;" value="#FFFFFF" />
                        </div>
                        <div class="pure-u-1-4"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="pure-button btn-info">确定</button>
                <button type="button" class="pure-button">取消</button>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript">
$(document).ready(function(){
    /*页面窗口*/
    let cavansWdith = $('body').width() - $('.toolbox').width() - $('.setting').width();
    $('.canvas').width(cavansWdith);
    /*绘图主程序*/
    const painter = new Painter($('#cube_group'));
    /*颜色面板*/
    painter.colorManager = new ColorPanel($('#color_maker'), $('#color_picker'));
    /*图层面板*/
    const layerPanel = new LayerPanel($('#layer'));
    layerPanel.refreshCallback = function(){
        painter.render();
    };
    painter.layerManager = layerPanel;

    painter.colorManager.setColor('#fa6800');
    painter.newFile('未命名', 32, 32, '#ffffff');
    painter.scale = 2;
    //painter.showGrid = false;
    painter.setTool('pen');
    painter.render();
});
</script>
</html>